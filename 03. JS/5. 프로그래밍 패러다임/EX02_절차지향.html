<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 절차지향 프로그래밍을 통해 자판기 프로그램을 만들어보자!

        //1. 자판기 객체 생성 (돈통, 물, 콜라, 주스)
        let machine = {
            money: 0,
            water: 5,
            coke: 10,
            juice: 7
        }
        //두 번째 자판기 생성
        let machine2 = {
            money: 0,
            water: 10,
            coke: 20,
            juice: 14
        }
        

        // 2. 사용자에게 돈을 입력받아 준다. ('돈을 넣어주세요')
        // 3. 사용자에게 제품을 입력받아 준다.
        //      (무엇을 드시겠습니까?
        //      [1]물 - 700원 [2] 콜라 - 1500원 [3] 주스 - 2000원)
        let money = parseInt(prompt("돈을 넣어주세용"))
        let product = prompt("무엇을 드시겠습니까?\n [1]물 - 700원 [2] 콜라 - 1500원 [3] 주스 - 2000원)")


        // 4. 제품을 꺼내주는 함수를 생성 exportProduct
        const exportProduct = () => {
            //  4-1) 사용자가 넣은 돈만큼 돈통이 채워진다.
            machine.money += money
            //  4-2) 사용자가 어떤 제품을 선택했느냐에 따라 다르게 적용 

            if(product == 1){
                machine.money = machine.money - 700
                machine.water = machine.water -1
                alert("물 나왔습니당")
            } else if (product == 2) {
                machine.money = machine.money - 1500
                machine.coke = machine.coke -1
                alert("콜라 나왔습니당")
            }else if (product == 3) {
                machine.money = machine.money - 2000
                machine.juice = machine.juice -1
                alert("주스 나왔습니당")
            }
            console.log('현재 잔돈은', machine.money, '원 입니다.')
            console.log(machine)
            

        }

        // 5. 잔돈을 반환하는 함수를 만들어 줄 것 (changes)
        // ex) 2300원 -> 천원 2장, 500 0개, 백원 3개
        const changes = () => {
            let change = machine.money
            let thouWon = parseInt(machine.money / 1000)
            let hundWon = parseInt((machine.money%1000) / 500)
            let tenWon = parseInt(((machine.money%1000) % 500)/100)

            console.log(`잔돈입니다~ 천원짜리${thouWon}개, 오백원짜리 ${hundWon}개, 백원짜리 ${tenWon}개 입니다.`)
        }

        // 6. exportProduct 호출
        exportProduct()
        changes()

    </script>
</body>

</html>